package com.example.b206ea03.myapplication04;

import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;

import java.io.*;

public class MainActivity extends AppCompatActivity{

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        CreateTxt("test01", "this is test01");
        subDirList("data/user/0/com.example.b206ea03.myapplication04/files");
        //subDirList("sys/devices");
    }

    public void subDirList(String path){

        File file = new File(path);
        File[] files = file.listFiles();
        Log.v("TAG",getFilesDir().getAbsolutePath().toString());

        if (files == null) {
            Log.v("TAG","file is null");
            return;
        }

        for(int i = 0;i < files.length;i++) {


            if(files[i].isDirectory()) {
                Log.v("TAG","Directory : " + files[i].getName());
                //System.out.println("디렉토리 이름 = " + file.getName());
            } else {

                if(files[i].getName().endsWith("txt") || files[i].getName().endsWith("mp4")) {
                    Log.v("TAG","File :" + files[i].getName());
                    //System.out.println("\t 파일 이름 = " + files[i].getName());

                }
            }
        }
    }

    public void CreateTxt(String name, String text){
        String dirPath = getFilesDir().getAbsolutePath();
        File file = new File(dirPath);

// 일치하는 폴더가 없으면 생성
        if( !file.exists() ) {
            file.mkdirs();
            //Toast.makeText(this, "Success", Toast.LENGTH_SHORT).show();
        }

// txt 파일 생성
        String testStr = "this is test01";
        File savefile = new File(dirPath+"/test01.txt");
        try{
            FileOutputStream fos = new FileOutputStream(savefile);
            fos.write(testStr.getBytes());
            fos.close();
            //Toast.makeText(this, "Save Success", Toast.LENGTH_SHORT).show();
        } catch(IOException e){}

// 파일이 1개 이상이면 파일 이름 출력
        if ( file.listFiles().length > 0 )
            for ( File f : file.listFiles() ) {
                String str = f.getName();
                Log.v(null,"fileName : "+str);

                // 파일 내용 읽어오기
                String loadPath = dirPath+"/"+str;
                try {
                    FileInputStream fis = new FileInputStream(loadPath);
                    BufferedReader bufferReader = new BufferedReader(new InputStreamReader(fis));

                    String content="", temp="";
                    while( (temp = bufferReader.readLine()) != null ) {
                        content += temp;
                    }
                    Log.v(null,""+content);
                } catch (Exception e) {}
            }

    }
}


http://blog.naver.com/PostView.nhn?blogId=javaking75&logNo=140179569292&parentCategoryNo=&categoryNo=67&viewDate=&isShowPopularPosts=false&from=postView
